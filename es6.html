<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>ES6 - ES2015 | Introduction</title>
</head>
<body>
    <button>Click me</button>
    <script>
        console.log("start");
    
        // ES6 variable declaration
        /* var firstName = "Michael";
        console.log(`my first name is ${firstName}`);

        let name = "michael Otu";
        const yearOfBirth = 1996;
        console.log("My name is " + name + " and i was born on " + yearOfBirth);
        console.log(`My name is ${name} and i was born on ${yearOfBirth}`); */

        // ES6 variable scope
        // let and const are block scoped
        // var is function scoped


        /* function sayName5(bool) {
            if (bool) {
                var name = "Michael";
                console.log("I am in the if block");
            }

            console.log("I am " + name + " called in the function block");
        }
        sayName5(true);
        console.log();

        function sayName6(bool) {

            if (bool) {
                let name6 = "Michael";
                console.log("I am in the if block");
            }

            console.log("I am " + name + " called in the function block");
        }
        sayName6(true); */

        // ES6 Strings
        
        /* let firstName = "Andrew";
        let lastName = "Ng";
        let fullName = `${firstName} ${lastName}`;

        console.log(fullName);
        
        firstName = "Anastasia";
        lastName = "Johles";
        fullName = `${firstName} ${lastName}`;
        console.log(fullName);

        let bio = {
            name: "John Doe",
            yearOfBirth: 1990,
            age: function() {
                return 2019 - this.yearOfBirth;
            },
            print: function() {
                console.log(`name: ${this.name}`);
                console.log(`year of birth: ${this.yearOfBirth}`);
                console.log(`age: ${this.age()}`);
            }
        };

        bio.print(); */

        // ES6 arrow function I

        /* var ages = [1990, 1954, 1972, 1988, 1967, 1950, 1943, 2003, 1996];

        var myAges = ages.map(function(el) {
            return 2019 - el;
        });

        console.log(myAges);

        // using arrow function instead of the above
        var myAges = ages.map(el => 2019 - el);

        console.log(myAges);

        myAges = ages.map((el, i) => `element ${i + 1}  : ${2019 - el}`);

        console.log(myAges);

        myAges = ages.map((el, i) => {
            const thisYear = new Date().getFullYear();

            var age = thisYear - el;

            return `element ${i + 1}  : ${age}`;
        });

        console.log(myAges);

        myAges = ages.map((el, i) => `element ${i + 1}  : ${(new Date().getFullYear()) - el}`
        );

        console.log(myAges); */

        // Arrow function II - Lexical this.
        // Es5
        /* var person6 = {
            name: "Daniel",
            age: 32,
            printInfo: function() {
                // this done in 2 ways

                // method 1
                //document.getElementsByTagName("button")[0].addEventListener("click", function(){
                //     console.log("The name is " + person6.name + " and the number is " + person6.age);
                // });

                // method 2
                var self = this;
                document.getElementsByTagName("button")[0].addEventListener("click", function(){
                    console.log("The name is " + self.name + " and the number is " + self.age);
                });
            }
            ,

            sayHello: function() {
                console.log("Hello, my name is " + this.name);
            },

            clickMeButton: function() {
                console.log("clickMeButton - The name is " + person6.name + " and the number is " + person6.age);
            },

            clickMe: function() {
                console.log("clickMethod - The name is " + this.name + " and the number is " + this.age);
            }   
        };
        
        person6.printInfo();
        person6.sayHello();

        person6.clickMe()
        document.getElementsByTagName("button")[0].addEventListener("click", person6.clickMeButton); */

        // Es6
        /* const person6 = {
            name: "Daniel",
            age: 32,
            printInfo: function() {

                // method 1
                // document.getElementsByTagName("button")[0].addEventListener("click", () =>
                //     console.log(`methd- 1;; The name is ${this.name} and the number is ${this.age}`)
                // );
            },
            // method 2 is to use the =>
            printInfo2: () => {
                let that = person6;
                document.getElementsByTagName("button")[0].addEventListener("click", () => 
                console.log(`printInfo2= The name is ${that.name} and the number is ${that.age}`)
                );
            },
            sayHello: () => {
                console.log(`hello ${person6.name}`);
                
                console.log(`ES5= Hello, my name is ${person6.name}`);
                }, 

            clickMeButton: () =>
                console.log(`clickMeButton = The name is ${person6.name} and the number is ${person6.age}`),

            clickMe: () =>
                console.log(`clickMe = The name is ${person6.name} and the number is ${person6.age}`)
        };
        
        person6.printInfo();
        person6.printInfo2();
        person6.sayHello();
        person6.clickMeButton();

        person6.clickMe()
        person6.sayHello();
        document.getElementsByTagName("button")[0].addEventListener("click", person6.clickMeButton); */

        // destructuring: extract data from an obj
        // ES5
        /* var dan = ['Daniel', 43];
        var danName = dan[0];
        var danAge = dan[1];
        console.log(danName);
        console.log(danAge);


        // ES6
        const [micName, micAge] = ['michael', 34];
        console.log(micName);
        console.log(micAge);


        // ES5
        var obj5 = {
            name: "obj5Nmae",
            age: "obj5Age"
        }
        var name5 = obj5.name;
        var age5 = obj5.age;

        // ES6
        let {name, age} = obj5;
        console.log(name);
        console.log(age);
        console.log()
        let {name: name6, age: age6} = obj5;
        console.log(name6+"es6");
        console.log(age6+"es6");

        function calcAgeAndRetirement(year) {
            var currentYear = new Date().getFullYear();
            var age = currentYear - year;
            var retirement = 65 - age;
            // console.log(currentYear, age, retirement);
            return [currentYear, age, retirement];
        }

        var [currentYear7, age7, retirement7] = calcAgeAndRetirement(2000);

        console.log(`person is ${age7} in ${currentYear7} and shall retire ${retirement7} years later in ${currentYear7 + age7}`);
        console.log(calcAgeAndRetirement(2000)); */

        // ES6 classes and inheritance
        class Person {
            constructor(firstName, lastName, yearOfBirth, sex, nationality="Ghanaian") {
                this.firstName = firstName;
                this.lastName = lastName;
                this.yearOfBirth = yearOfBirth;
                this.sex = sex;
                this.nationality = nationality;
            }

            calculateAge() {
                return new Date().getFullYear() - this.yearOfBirth;
            }

            printInfo() {
                console.log(`Name: ${this.firstName} ${this.lastName}\nAge: ${this.calculateAge()}\nSex: ${this.sex}\nNationality: ${this.nationality}`);
            }
        }

        class Employee extends Person {
            constructor(firstName, lastName, yearOfBirth, sex, job, salary, printInfo, nationality="Ghanaian") {
                super(firstName, lastName, yearOfBirth, sex, nationality, printInfo);
                this.job = job;
                this.salary = salary;
                this.printInfo = function () {
                    console.log(`Name: ${this.firstName} ${this.lastName}\nAge: ${this.calculateAge()}\nSex: ${this.sex}\nNationality: ${this.nationality}\nOccupation: ${this.job}\nSalary: ${this.salary}`);
                }
            }
        }

        var mic = new Person("michael", "joles", 1990, 'male');
        mic.printInfo();

        var jef = new Employee("jefferey", "loonie", 1980, 'female', "teacher", 20000);

        jef.printInfo();












        console.log("end");
    </script>
</body>
</html>